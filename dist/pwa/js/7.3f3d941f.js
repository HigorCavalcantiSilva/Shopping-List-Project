(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"6eb0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"flex flex-center"},[i("q-btn",{directives:[{name:"go-back",rawName:"v-go-back",value:"/list",expression:" '/list' "}],staticStyle:{"margin-top":"15px"},attrs:{color:"red",label:"Voltar para Seções"}}),i("h5",{staticStyle:{"text-align":"center"}},[t._v("Clique nos produtos para adicioná-los ao carrinho")]),i("table",{staticClass:"shadow-5",staticStyle:{width:"90%","margin-bottom":"30px"}},[i("thead",[i("tr",[i("th",[t._v("Produtos")]),i("th")])]),i("tbody",t._l(t.list,(function(e,a){return i("tr",{key:e.id},[e.idi===t.id?i("td",{staticStyle:{"text-align":"center"}},[i("q-btn",{staticClass:"bg-blue-8",staticStyle:{width:"100%",color:"white"},on:{click:function(i){return t.addCart(e.id)}}},[i("q-icon",{attrs:{name:"add_shopping_cart"}}),t._v(t._s(e.name))],1)],1):t._e(),e.idi===t.id?i("td",{staticStyle:{width:"30%","text-align":"center"}},[i("q-btn",{staticStyle:{width:"50%"},attrs:{color:"yellow",glossy:"","text-color":"black",push:"",icon:"create"},on:{click:function(i){return t.edit(e.id)}}}),i("q-btn",{staticStyle:{width:"50%"},attrs:{color:"red",glossy:"","text-color":"black",push:"",icon:"delete"},on:{click:function(i){return t.del(e.id,a)}}})],1):t._e()])})),0)]),i("div",{staticStyle:{width:"90%","margin-bottom":"20px"}},[i("q-input",{attrs:{"bottom-slots":"",label:"Adicione um produto",counter:"",maxlength:"30",dense:"dense"},scopedSlots:t._u([{key:"before",fn:function(){return[i("q-icon",{attrs:{name:"library_add"}})]},proxy:!0},{key:"hint",fn:function(){return[t._v("\n        Não coloque nome/marca de produtos\n      ")]},proxy:!0},{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.add}})]},proxy:!0}]),model:{value:t.new_product,callback:function(e){t.new_product=e},expression:"new_product"}})],1),i("q-dialog",{attrs:{persistent:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[i("q-card",{staticStyle:{"min-width":"350px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[t._v("Edite o nome")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{attrs:{dense:"",autofocus:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.prompt=!1}},model:{value:t.edit_product,callback:function(e){t.edit_product=e},expression:"edit_product"}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar"}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Confirmar"},on:{click:t.editc}})],1)],1)],1),i("div",{staticClass:"q-pa-md q-gutter-sm"},[i("q-dialog",{attrs:{seamless:"",position:"bottom"},model:{value:t.seamless,callback:function(e){t.seamless=e},expression:"seamless"}},[i("q-card",{staticStyle:{width:"350px"}},[i("q-card-section",{staticClass:"row items-center no-wrap"},[i("div",[i("div",{staticClass:"text-weight-bold"},[t._v("Adicionado ao Carrinho")])])])],1)],1)],1)],1)},s=[],o=(i("14b9"),i("7f7f"),i("28a5"),i("970b")),n=i.n(o),r=i("5bc3"),c=i.n(r),l=function(){function t(e){n()(this,t),this.database=e}return c()(t,[{key:"addItem",value:function(t,e){var i=JSON.parse(localStorage.getItem("products"));if(""!==t){var a=0===i.length||null==i[i.length-1].id?1:i[i.length-1].id;return i.push({id:a+1,idi:e,name:t}),this.save(i),a+1}this.save(i)}},{key:"repeat",value:function(t,e,i,a){for(var s=t;s<e;s++)if(i[s].id===a)break;return s}},{key:"save",value:function(t){localStorage.setItem(this.database,JSON.stringify(t))}}]),t}(),d=localStorage.getItem("products");""!==d&&null!==d&&void 0!==d||(d="[]",localStorage.setItem("products",d));var p=window.location.href,u=p.split("?"),h=u[1].split("&"),m=h[0].split("="),f=h[1].split("="),b=m[1],g=f[1];"NO"===g&&(location.href="#/products?id=".concat(b,"&conf=YES"));for(var v=JSON.parse(d),w=[],y=0;y<v.length;y++)parseInt(v[y].idi)===parseInt(b)&&w.push(v[y]);w.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}));var S={name:"PageIndex",data:function(){return{id:b,act:new l("products"),new_product:"",edit_product:"",c:0,prompt:!1,seamless:!1,list:w,prod:JSON.parse(localStorage.getItem("products"))}},methods:{del:function(t,e){this.c=this.act.repeat(0,this.prod.length,this.prod,t),this.prod.splice(this.c,1),this.list.splice(e,1),this.act.save(this.prod)},edit:function(t){this.c=this.c=this.act.repeat(0,this.list.length,this.list,t),this.edit_product=this.list[this.c].name,this.prompt=!0},editc:function(){this.list[this.c].name=this.edit_product.toUpperCase(),this.act.addItem(this.list,"","")},add:function(){if(""!==this.new_product){var t=this.act.addItem(this.new_product.toUpperCase(),this.id);this.list.push({id:t,idi:b,name:this.new_product.toUpperCase()}),this.new_product=""}else alert("NÃO É POSSÍVEL ADICIONAR UMA SEÇÃO SEM NOME!")},addCart:function(t){var e=this;for(this.c=0;this.c<this.list.length;this.c++)if(this.list[this.c].id===t){var i=JSON.parse(localStorage.getItem("cart"));i.push({id:t,name:this.list[this.c].name}),localStorage.setItem("cart",JSON.stringify(i));break}this.seamless=!0,setTimeout((function(){e.seamless=!1}),1e3)}}},_=S,k=i("2877"),x=i("9989"),q=i("9c40"),C=i("0016"),I=i("27f9"),N=i("24e8"),O=i("f09f"),E=i("a370"),J=i("4b7e"),Q=i("2eeb"),A=i("7f67"),P=i("eebe"),U=i.n(P),M=Object(k["a"])(_,a,s,!1,null,null,null);e["default"]=M.exports;U()(M,"components",{QPage:x["a"],QBtn:q["a"],QIcon:C["a"],QInput:I["a"],QDialog:N["a"],QCard:O["a"],QCardSection:E["a"],QCardActions:J["a"]}),U()(M,"directives",{GoBack:Q["a"],ClosePopup:A["a"]})}}]);