(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"6eb0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("q-btn",{directives:[{name:"go-back",rawName:"v-go-back",value:"/list",expression:" '/list' "}],staticStyle:{"margin-top":"15px"},attrs:{color:"red",label:"Voltar para Seções"}}),a("h5",{staticStyle:{"text-align":"center"}},[t._v("Clique nos produtos para adicioná-los ao carrinho")]),a("table",{staticClass:"shadow-5",staticStyle:{width:"90%","margin-bottom":"30px"}},[a("thead",[a("tr",[a("th",[t._v("Produtos")]),a("th")])]),a("tbody",t._l(t.list,(function(e,i){return a("tr",{key:e.id},[e.idi===t.id?a("td",{staticStyle:{"text-align":"center"}},[a("q-btn",{staticStyle:{width:"100%"},attrs:{color:"blue"},on:{click:function(a){return t.addCart(e.id)}}},[a("q-icon",{attrs:{name:"add_shopping_cart"}}),t._v(t._s(e.name))],1)],1):t._e(),e.idi===t.id?a("td",{staticStyle:{width:"30%","text-align":"center"}},[a("q-btn",{staticStyle:{width:"50%"},attrs:{color:"yellow",glossy:"","text-color":"black",push:"",icon:"create"},on:{click:function(a){return t.edit(e.id)}}}),a("q-btn",{staticStyle:{width:"50%"},attrs:{color:"red",glossy:"","text-color":"black",push:"",icon:"delete"},on:{click:function(a){return t.del(e.id,i)}}})],1):t._e()])})),0)]),a("div",{staticStyle:{width:"90%","margin-bottom":"20px"}},[a("q-input",{attrs:{"bottom-slots":"",label:"Adicione um produto",counter:"",maxlength:"12",dense:"dense"},scopedSlots:t._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"library_add"}})]},proxy:!0},{key:"hint",fn:function(){return[t._v("\n        Não coloque nome/marca de produtos\n      ")]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.add}})]},proxy:!0}]),model:{value:t.new_product,callback:function(e){t.new_product=e},expression:"new_product"}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Edite o nome")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{dense:"",autofocus:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.prompt=!1}},model:{value:t.edit_product,callback:function(e){t.edit_product=e},expression:"edit_product"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Confirmar"},on:{click:t.editc}})],1)],1)],1),a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{attrs:{seamless:"",position:"bottom"},model:{value:t.seamless,callback:function(e){t.seamless=e},expression:"seamless"}},[a("q-card",{staticStyle:{width:"350px"}},[a("q-card-section",{staticClass:"row items-center no-wrap"},[a("div",[a("div",{staticClass:"text-weight-bold"},[t._v("Adicionado ao Carrinho")])])])],1)],1)],1)],1)},s=[],o=(a("14b9"),a("7f7f"),a("28a5"),a("970b")),n=a.n(o),r=a("5bc3"),c=a.n(r),l=function(){function t(e){n()(this,t),this.database=e}return c()(t,[{key:"addItem",value:function(t,e){var a=JSON.parse(localStorage.getItem("products"));if(""!==t){var i=0===a.length||null==a[a.length-1].id?1:a[a.length-1].id;return a.push({id:i+1,idi:e,name:t}),this.save(a),i+1}this.save(a)}},{key:"repeat",value:function(t,e,a,i){for(var s=t;s<e;s++)if(a[s].id===i)break;return s}},{key:"save",value:function(t){localStorage.setItem(this.database,JSON.stringify(t))}}]),t}(),d=localStorage.getItem("products");""!==d&&null!==d&&void 0!==d||(d="[]",localStorage.setItem("products",d));var p=window.location.href,u=p.split("?"),h=u[1].split("&"),m=h[0].split("="),f=h[1].split("="),b=m[1],g=f[1];"NO"===g&&(location.href="#/products?id=".concat(b,"&conf=YES"));for(var v=JSON.parse(d),y=[],w=0;w<v.length;w++)parseInt(v[w].idi)===parseInt(b)&&y.push(v[w]);y.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}));var S={name:"PageIndex",data:function(){return{id:b,act:new l("products"),new_product:"",edit_product:"",c:0,prompt:!1,seamless:!1,list:y,prod:JSON.parse(localStorage.getItem("products"))}},methods:{del:function(t,e){this.c=this.act.repeat(0,this.prod.length,this.prod,t),this.prod.splice(this.c,1),this.list.splice(e,1),this.act.save(this.prod)},edit:function(t){this.c=this.c=this.act.repeat(0,this.list.length,this.list,t),this.edit_product=this.list[this.c].name,this.prompt=!0},editc:function(){this.list[this.c].name=this.edit_product.toUpperCase(),this.act.addItem(this.list,"","")},add:function(){if(""!==this.new_product){var t=this.act.addItem(this.new_product.toUpperCase(),this.id);this.list.push({id:t,idi:b,name:this.new_product.toUpperCase()}),this.new_product=""}else alert("NÃO É POSSÍVEL ADICIONAR UMA SEÇÃO SEM NOME!")},addCart:function(t){var e=this;for(this.c=0;this.c<this.list.length;this.c++)if(this.list[this.c].id===t){var a=JSON.parse(localStorage.getItem("cart"));a.push({id:t,name:this.list[this.c].name}),localStorage.setItem("cart",JSON.stringify(a));break}this.seamless=!0,setTimeout((function(){e.seamless=!1}),1e3)}}},_=S,k=a("2877"),x=a("9989"),q=a("9c40"),C=a("0016"),I=a("27f9"),N=a("24e8"),O=a("f09f"),E=a("a370"),J=a("4b7e"),Q=a("2eeb"),A=a("7f67"),P=a("eebe"),U=a.n(P),M=Object(k["a"])(_,i,s,!1,null,null,null);e["default"]=M.exports;U()(M,"components",{QPage:x["a"],QBtn:q["a"],QIcon:C["a"],QInput:I["a"],QDialog:N["a"],QCard:O["a"],QCardSection:E["a"],QCardActions:J["a"]}),U()(M,"directives",{GoBack:Q["a"],ClosePopup:A["a"]})}}]);