(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{f68e:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"flex flex-center"},[o("h4",{staticStyle:{"text-align":"center"}},[t._v("Partiu Compra!")]),o("q-btn",{staticStyle:{width:"90%",height:"50px"},attrs:{color:"green"},on:{click:t.init_shop}},[t._v("INICIAR COMPRAS")]),o("table",{staticClass:"shadow-5",staticStyle:{width:"90%"}},[o("thead",[o("tr",[o("th",{staticStyle:{width:"5%"}},[t._v("Status")]),o("th",[t._v("Minha Lista")]),o("th")])]),o("tbody",t._l(t.list,(function(e,s){return o("tr",{key:s},[o("td",{staticStyle:{"text-align":"center"}},[o("q-btn",{attrs:{color:t.color[s],glossy:"","text-color":"white",push:"",icon:t.done[s]},on:{click:function(e){return t.stts(s)}}})],1),o("td",{staticStyle:{"text-align":"center"}},[o("q-btn",{staticStyle:{width:"100%"},attrs:{color:"blue"}},[t._v(t._s(e.name))])],1),o("td",{staticStyle:{width:"10%","text-align":"center"}},[o("q-btn",{staticStyle:{width:"100%"},attrs:{color:"red",glossy:"","text-color":"black",push:"",icon:"delete"},on:{click:function(o){return t.del_prod(e.id,s)}}})],1)])})),0)]),o("q-btn",{staticStyle:{width:"90%",height:"50px"},attrs:{color:"red"},on:{click:function(e){t.confirm=!0}}},[t._v("FINALIZAR COMPRA")]),o("q-dialog",{model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center q-pb-none"},[o("div",{staticClass:"text-h6"},[t._v(t._s(t.msg))]),o("q-space"),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),o("q-card-section",[t._v("\n        "+t._s(t.msg2)+"\n      ")])],1)],1),o("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-avatar",{attrs:{icon:"shop",color:"primary","text-color":"white"}}),o("span",{staticClass:"q-ml-sm"},[t._v("Deseja Finalizar Sua Compra?")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Não",color:"red"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Sim",color:"primary"},on:{click:t.finish_shop}})],1)],1)],1)],1)},i=[],a=(o("7f7f"),o("970b")),r=o.n(a),c=o("5bc3"),n=o.n(c),l=function(){function t(){r()(this,t)}return n()(t,[{key:"setDB",value:function(t){var e=localStorage.getItem(t);""!==e&&null!==e&&void 0!==e||(e="[]",localStorage.setItem(t,e))}},{key:"getDB",value:function(t){return localStorage.getItem(t)}},{key:"setDoneColor",value:function(t,e,o){var s=e;s[t]=e[t],localStorage.setItem(o,JSON.stringify(e))}}]),t}(),h=new l;h.setDB("cart"),h.setDB("cart_color"),h.setDB("cart_done");var d=h.getDB("cart"),g=h.getDB("cart_color"),p=h.getDB("cart_done"),m=JSON.parse(d);m.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}));var S={name:"PageIndex",data:function(){return{color:JSON.parse(g),done:JSON.parse(p),list:m,i:0,c:0,icon:!1,confirm:!1,msg:"",msg2:"",test:0}},methods:{stts:function(t){"1"===localStorage.getItem("init_shop")?("done"!==this.done[t]?(this.done[t]="done",this.color[t]="green",h.setDoneColor(t,this.color,"cart_color"),h.setDoneColor(t,this.done,"cart_done")):(this.done[t]="clear",this.color[t]="red",h.setDoneColor(t,this.color,"cart_color"),h.setDoneColor(t,this.done,"cart_done")),this.color=JSON.parse(localStorage.getItem("cart_color")),this.done=JSON.parse(localStorage.getItem("cart_done"))):this.icon=!0},init_shop:function(){if("1"===localStorage.getItem("init_shop"))return this.msg="SUA COMPRA JÁ FOI INICIADA!",this.msg2="",void(this.icon=!0);if(0===this.list.length)return this.msg="INSIRA ITEMS NO CARRINHO ANTES DE INICIAR UMA COMPRA!",this.msg2="",void(this.icon=!0);localStorage.setItem("init_shop","1");for(var t=[],e=[],o=0;o<this.list.length;o++)t.push("red"),e.push("clear");localStorage.setItem("cart_color",JSON.stringify(t)),localStorage.setItem("cart_done",JSON.stringify(e)),this.color=JSON.parse(localStorage.getItem("cart_color")),this.done=JSON.parse(localStorage.getItem("cart_done"))},finish_shop:function(){var t=this;if(this.test=0,"1"!==localStorage.getItem("init_shop"))return this.msg="NÃO É POSSÍVEL EFETUAR ESSA OPERAÇÃO!",this.msg2="Inicie a compra.",void(this.icon=!0);if(this.color.map((function(e){"red"===e&&t.test++})),this.test>0){var e=confirm("AINDA EXISTEM ".concat(this.test," ITEMS QUE NÃO FORAM MARCADOS. DESEJA CONTINUAR?"));if(!e)return}localStorage.setItem("cart_color","[]"),localStorage.setItem("cart_done","[]"),this.color="",this.done="",localStorage.setItem("init_shop","0"),localStorage.setItem("cart","[]"),this.$router.go()},del_prod:function(t,e){for(this.c=0;this.c<this.list.length;this.c++)if(this.list[this.c].id===t)break;this.list.splice(this.c,1),this.done.splice(e,1),this.color.splice(e,1),localStorage.setItem("cart",JSON.stringify(this.list)),localStorage.setItem("cart_done",JSON.stringify(this.done)),localStorage.setItem("cart_color",JSON.stringify(this.color))}}},u=S,f=o("2877"),_=o("9989"),I=o("9c40"),v=o("24e8"),N=o("f09f"),O=o("a370"),A=o("2c91"),C=o("cb32"),b=o("4b7e"),y=o("7f67"),w=o("eebe"),q=o.n(w),D=Object(f["a"])(u,s,i,!1,null,null,null);e["default"]=D.exports;q()(D,"components",{QPage:_["a"],QBtn:I["a"],QDialog:v["a"],QCard:N["a"],QCardSection:O["a"],QSpace:A["a"],QAvatar:C["a"],QCardActions:b["a"]}),q()(D,"directives",{ClosePopup:y["a"]})}}]);